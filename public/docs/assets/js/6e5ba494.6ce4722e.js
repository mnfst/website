"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[809],{9088:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"entities","title":"Entities","description":"Introduction","source":"@site/content/entities.md","sourceDirName":".","slug":"/entities","permalink":"/docs/entities","draft":false,"unlisted":false,"editUrl":"https://github.com/mnfst/docs/blob/master/entities.md","tags":[],"version":"current","frontMatter":{"id":"entities","title":"Entities"},"sidebar":"docSidebar","previous":{"title":"Get started","permalink":"/docs/"},"next":{"title":"CRUD Operations","permalink":"/docs/crud"}}');var i=t(4848),r=t(8453);t(5537),t(9329);const l={id:"entities",title:"Entities"},a="Entities",d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Collections",id:"collections",level:2},{value:"Entity params",id:"entity-params",level:3},{value:"Singles",id:"singles",level:2},{value:"Entity params",id:"entity-params-1",level:3},{value:"Properties",id:"properties",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Property params",id:"property-params",level:3},{value:"Property types",id:"property-types",level:3},{value:"String",id:"string",level:4},{value:"Textarea",id:"textarea",level:4},{value:"Rich text",id:"rich-text",level:4},{value:"Number",id:"number",level:4},{value:"Link",id:"link",level:4},{value:"Money",id:"money",level:4},{value:"Parameters",id:"parameters",level:6},{value:"Date",id:"date",level:4},{value:"Timestamp",id:"timestamp",level:4},{value:"Email",id:"email",level:4},{value:"Boolean",id:"boolean",level:4},{value:"File",id:"file",level:4},{value:"Image",id:"image",level:4},{value:"Parameters",id:"parameters-1",level:6},{value:"Password",id:"password",level:4},{value:"Choice",id:"choice",level:4},{value:"Parameters",id:"parameters-2",level:6},{value:"Location",id:"location",level:4},{value:"Relations",id:"relations",level:2},{value:"Syntax",id:"syntax-1",level:3},{value:"Relation params",id:"relation-params",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h6:"h6",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"entities",children:"Entities"})}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["An entity is a model of objects linked to real-world concepts. Creating an entity in manifest generates ",(0,i.jsx)(n.strong,{children:"CRUD endpoints"})," that can be used by the ",(0,i.jsx)(n.a,{href:"/docs/crud#using-the-rest-api",children:"REST API"})," or the ",(0,i.jsx)(n.a,{href:"/docs/crud#using-the-javascript-sdk",children:"SDK"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["All entities are located in the ",(0,i.jsx)(n.code,{children:"backend.yml"})," file under the ",(0,i.jsx)(n.strong,{children:"entities"})," property."]}),"\n",(0,i.jsxs)(n.p,{children:["There are 2 types of entities in Manifest: ",(0,i.jsx)(n.a,{href:"#collections",children:"Collections"})," and ",(0,i.jsx)(n.a,{href:"#singles",children:"Singles"}),". ",(0,i.jsx)(n.strong,{children:"Collections"})," are multiple instances of similar data, stored as a list. E.g., users, customers, videos, etc. Singles are unique, standalone data that are singular in nature. E.g., home content, about content, settings, logo..."]}),"\n",(0,i.jsx)(n.h2,{id:"collections",children:"Collections"}),"\n",(0,i.jsx)(n.p,{children:"Let's see a simple example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="manifest/backend.yml"',children:"name: A pet app\n\nentities:\n  Cat \ud83d\ude3a:\n    properties:\n      - name\n  Dog \ud83d\udc36:\n    properties:\n      - name\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This file will generate the ",(0,i.jsx)(n.strong,{children:"Cat"})," and ",(0,i.jsx)(n.strong,{children:"Dog"})," entity both with a ",(0,i.jsx)(n.code,{children:"name"})," property. In Manifest by default all entities have an incremental ",(0,i.jsx)(n.strong,{children:"id"})," so you do not need to add it. They also have automatic ",(0,i.jsx)(n.strong,{children:"createdAt"})," and ",(0,i.jsx)(n.strong,{children:"updatedAt"})," columns that are not selected by default in the API requests."]}),"\n",(0,i.jsx)(n.p,{children:"You can now add your own pets through the admin panel!"}),"\n",(0,i.jsx)(n.p,{children:"To generate dummy data for all your entities, run the simple command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm run manifest:seed\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"The seed replaces the previous data by the new one and thus should never be used in production."})}),"\n",(0,i.jsx)(n.h3,{id:"entity-params",children:"Entity params"}),"\n",(0,i.jsx)(n.p,{children:"You can pass different arguments to configure your entities. Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"entities:\n  Member \ud83d\udc64:\n    seedCount: 200\n    mainProp: lastName\n    properties:\n      - firstName\n      - lastName\n      - email\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"authenticable"})}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsxs)(n.td,{children:["Whether the entity is ",(0,i.jsx)(n.a,{href:"/docs/authentication#authenticable-entities",children:"authenticable"})," or not"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"mainProp"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"first string field"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"Identifier prop. Used widely on the admin panel"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"nameSingular"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"singular lower case name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The singular lowercase name of your entity. Used widely on the admin panel."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"namePlural"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"plural lower case name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The plural lowercase name of your entity. Used widely on the admin panel Default: plural lowercase name."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"policies"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Policies"}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/authentication#access-policies",children:"access control policies"})," of your entity"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"properties"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),(0,i.jsx)(n.td,{children:"Array"}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/entities#properties",children:"properties"})," of your entity"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"seedCount"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"50"})}),(0,i.jsx)(n.td,{children:"number"}),(0,i.jsx)(n.td,{children:"the number of entities to seed when running the seed command."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"slug"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"plural dasherized name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The kebab-case slug of the entity that will define API endpoints."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"singles",children:"Singles"}),"\n",(0,i.jsxs)(n.p,{children:["Single entities differ a bit from ",(0,i.jsx)(n.a,{href:"#collections",children:"collections"}),". A single entity is ",(0,i.jsx)(n.strong,{children:"singular in nature"}),", and there can be only one record of them. Examples are website dynamic elements, pages, standalone content or settings. They do not have ",(0,i.jsx)(n.a,{href:"/docs/entities#relations",children:"relations"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["On single entities ",(0,i.jsx)(n.strong,{children:"Create"})," and ",(0,i.jsx)(n.strong,{children:"Delete"})," CRUD actions are disabled. Thus, the ",(0,i.jsx)(n.a,{href:"/docs/crud#singles",children:"REST API endpoints for single entities"})," are different."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"ContactPage:\n  single: true\n  slug: contact\n  properties:\n    - { name: title, type: string }\n    - { name: content, type: text }\n    - { name: image, type: image }\n  validation:\n    title: { required: true }\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can generate dummy data for all your entities with the simple command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm run manifest:seed\n"})}),"\n",(0,i.jsx)(n.h3,{id:"entity-params-1",children:"Entity params"}),"\n",(0,i.jsx)(n.p,{children:"You can pass different arguments to configure your single entities. Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"entities:\n  Member \ud83d\udc64:\n    seedCount: 200\n    mainProp: lastName\n    properties:\n      - firstName\n      - lastName\n      - email\n"})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"nameSingular"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"singular lower case name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The singular lowercase name of your entity. Used widely on the admin panel."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"policies"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Policies"}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/authentication#access-policies",children:"access control policies"})," of your entity"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"properties"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),(0,i.jsx)(n.td,{children:"Array"}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/entities#properties",children:"properties"})," of your entity"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"slug"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"plural dasherized name"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The kebab-case slug of the entity that will define API endpoints."})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"id: properties\ntitle: Properties"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,i.jsxs)(n.p,{children:["Properties are the characteristics of your ",(0,i.jsx)(n.a,{href:"/docs/entities",children:"entities"}),". For example, a ",(0,i.jsx)(n.strong,{children:"Product"})," can have properties like ",(0,i.jsx)(n.code,{children:"name"}),", ",(0,i.jsx)(n.code,{children:"description"}),", ",(0,i.jsx)(n.code,{children:"price"}),"..."]}),"\n",(0,i.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,i.jsxs)(n.p,{children:["You can add the properties to your entities in the ",(0,i.jsx)(n.strong,{children:"backend.yml file"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="manifest/backend.yml"',children:"name: Blog about cats\nentities:\n  Post \ud83d\udcdd:\n    properties:\n      - name # Short syntax for string type.\n      - { name: content, type: text } # Long syntax for other types.\n      - { name: publishedAt, type: date }\n      - { name: authorEmail, type: email, hidden: true } # Extra options.\n      - {\n          name: status,\n          type: choice,\n          options: { values: [draft, pending, published] },\n          default: draft # Default value if property not specified.\n        }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"property-params",children:"Property params"}),"\n",(0,i.jsx)(n.p,{children:"You can pass arguments using the long syntax:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"type"})}),(0,i.jsx)(n.td,{children:'"string"'}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"PropType"})}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"#property-types",children:"Property type"})," (text, number, email, location...)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"hidden"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"If the property should be hidden in the API response"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"options"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsxs)(n.td,{children:["Specific options depending on ",(0,i.jsx)(n.a,{href:"#property-types",children:"property type"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"validation"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Object"}),(0,i.jsxs)(n.td,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/validation",children:"property validators"})," that each request compares against"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"default"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"any"}),(0,i.jsx)(n.td,{children:"The default value. When creating an item, if the property is not specified it will default to this value."})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"property-types",children:"Property types"}),"\n",(0,i.jsxs)(n.p,{children:["Manifest vision of ",(0,i.jsx)(n.strong,{children:"property types"})," goes beyond software development typing and is already built-in for real world usages. For example, the ",(0,i.jsx)(n.a,{href:"#money",children:"Money"})," PropType is handier than ",(0,i.jsx)(n.a,{href:"#number",children:"Number"})," for managing amounts as it comes with a ",(0,i.jsx)(n.code,{children:"currency"})," option that only allows 2 digits after the comma."]}),"\n",(0,i.jsxs)(n.p,{children:["Each PropType comes with built-in type ",(0,i.jsx)(n.a,{href:"/docs/validation",children:"validation"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Some of them have specific options. Here is a list of the available types:"}),"\n",(0,i.jsx)(n.h4,{id:"string",children:"String"}),"\n",(0,i.jsx)(n.p,{children:"A simple string."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: firstName, type: string }\n\n# Short syntax, same as above.\n- firstName\n"})}),"\n",(0,i.jsx)(n.h4,{id:"textarea",children:"Textarea"}),"\n",(0,i.jsx)(n.p,{children:"Textarea field for medium-size texts."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: description, type: text }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"rich-text",children:"Rich text"}),"\n",(0,i.jsx)(n.p,{children:"Rich text field for HTML content. The admin panel input can generate basic HTML tags like bold, italic, headings, links and bullet lists."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: description, type: richText }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"number",children:"Number"}),"\n",(0,i.jsx)(n.p,{children:"A numerical value."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: age, type: number }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"link",children:"Link"}),"\n",(0,i.jsx)(n.p,{children:"An URL that links to an external page."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: website, type: link }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"money",children:"Money"}),"\n",(0,i.jsx)(n.p,{children:"A money field with a currency. Money properties can have up to 2 digits after the comma."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: price, type: money, options: { currency: 'EUR' } }\n"})}),"\n",(0,i.jsx)(n.h6,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"currency"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"USD"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/ISO_4217#List_of_ISO_4217_currency_codes",children:"ISO 4217 currency code"})})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"date",children:"Date"}),"\n",(0,i.jsx)(n.p,{children:"Basic date field."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: startDate, type: date }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"timestamp",children:"Timestamp"}),"\n",(0,i.jsx)(n.p,{children:"Timestamp field (ISO 8601 Format)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: acquiredAt, type: timestamp }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"email",children:"Email"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: email, type: email }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"boolean",children:"Boolean"}),"\n",(0,i.jsx)(n.p,{children:'For any field with a "true or false" value.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: isActive, type: boolean }\n"})}),"\n",(0,i.jsx)(n.h4,{id:"file",children:"File"}),"\n",(0,i.jsxs)(n.p,{children:["A file upload. Read more in the ",(0,i.jsx)(n.a,{href:"/docs/upload#upload-a-file",children:"file upload doc"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: document, type: file }\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Manifest stores the ",(0,i.jsx)(n.strong,{children:"absolute paths"})," of uploaded files. Use the ",(0,i.jsx)(n.a,{href:"/docs/upload#add-a-base_url-variable",children:(0,i.jsx)(n.code,{children:"BASE_URL"})})," environment variable to adapt it to your domain."]})}),"\n",(0,i.jsx)(n.h4,{id:"image",children:"Image"}),"\n",(0,i.jsxs)(n.p,{children:["An image upload. The different sizes should be provided to generate several sizes of it. Read more in the ",(0,i.jsx)(n.a,{href:"/docs/upload#upload-an-image",children:"image upload doc"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- {\n    name: photo,\n    type: image,\n    options:\n      { sizes: { small: { height: 90, width: 90 }, large: { width: 200 } } }\n  }\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Manifest stores the ",(0,i.jsx)(n.strong,{children:"absolute paths"})," of uploaded images. Use the ",(0,i.jsx)(n.a,{href:"/docs/upload#add-a-base_url-variable",children:(0,i.jsx)(n.code,{children:"BASE_URL"})})," environment variable to adapt it to your domain."]})}),"\n",(0,i.jsx)(n.h6,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"sizes"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.em,{children:"thumbnail (80x80)"})," ",(0,i.jsx)(n.em,{children:"medium (160x160)"})]}),(0,i.jsx)(n.td,{children:"ImageSizesObject"}),(0,i.jsxs)(n.td,{children:["An object with each key being the name of each size and with ",(0,i.jsx)(n.code,{children:"width"}),", ",(0,i.jsx)(n.code,{children:"height"})," and ",(0,i.jsx)(n.code,{children:"fit"})," optional props. The ",(0,i.jsx)(n.em,{children:"fit"})," options works as in ",(0,i.jsx)(n.a,{href:"https://sharp.pixelplumbing.com/api-resize",children:"Sharp"})]})]})})]}),"\n",(0,i.jsx)(n.h4,{id:"password",children:"Password"}),"\n",(0,i.jsxs)(n.p,{children:["Password field. Most of the time you do not need to implement passwords manually as ",(0,i.jsx)(n.a,{href:"/docs/authentication#authenticable-entities",children:"authenticable entities"})," have built-in ",(0,i.jsx)(n.code,{children:"email"})," and ",(0,i.jsx)(n.code,{children:"password"})," fields to log in."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: password, type: password }\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["When setting the type as ",(0,i.jsx)(n.code,{children:"password"}),", Manifest hashes automatically the value before storing it. Passwords should never be stored as clear text."]})}),"\n",(0,i.jsx)(n.h4,{id:"choice",children:"Choice"}),"\n",(0,i.jsx)(n.p,{children:"A given choice of options."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: sex, type: choice, options: { values: [male, female] } }\n\n# Sequential if the values are ordered in a logical sense..\n- {\n    name: status,\n    type: choice,\n    options: { values: [draft, submitted, published], sequential: true }\n  }\n"})}),"\n",(0,i.jsx)(n.h6,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"values"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.em,{children:"(empty)"})}),(0,i.jsx)(n.td,{children:"String[]"}),(0,i.jsx)(n.td,{children:"An array of strings representing the available choices"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"sequential"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"Specifies if the values are ordered in a logical sense"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"location",children:"Location"}),"\n",(0,i.jsxs)(n.p,{children:["The location type consists in a object with ",(0,i.jsx)(n.code,{children:"lat"})," and ",(0,i.jsx)(n.code,{children:"lng"})," coordinates."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- { name: location, type: location }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"relations",children:"Relations"}),"\n",(0,i.jsxs)(n.p,{children:["You can create ",(0,i.jsx)(n.strong,{children:"one-to-many"})," relationships or ",(0,i.jsx)(n.strong,{children:"many-to-many"})," relationships."]}),"\n",(0,i.jsx)(n.h3,{id:"syntax-1",children:"Syntax"}),"\n",(0,i.jsxs)(n.p,{children:["The following example showcases the possibilities of ",(0,i.jsx)(n.strong,{children:"Manifest relations"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="manifest/backend.yml"',children:"name: Basketball League \ud83c\udfc0\n\nentities:\n  Player \ud83e\udd3e:\n    properties:\n      - name\n    belongsTo:\n      - Team\n    belongsToMany:\n      - Skill\n\n  Team \ud83d\udc65:\n    properties:\n      - name\n\n  Skill \ud83d\udcaa:\n    properties:\n      - name\n\n  Fixture \ud83c\udfdf\ufe0f:\n    properties:\n      - { name: homeScore, type: number }\n      - { name: awayScore, type: number }\n    belongsTo:\n      - { name: homeTeam, entity: Team }\n      - { name: awayTeam, entity: Team }\n"})}),"\n",(0,i.jsx)(n.p,{children:"In other words:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"belongsTo"})," keyword creates a ",(0,i.jsx)(n.strong,{children:"many-to-one"})," relationship (and its opposite ",(0,i.jsx)(n.em,{children:"one-to-many"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"belongsToMany"})," keyword creates a ",(0,i.jsx)(n.strong,{children:"many-to-many"})," bi-directional relationship"]}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.strong,{children:"long syntax"})," (as in ",(0,i.jsx)(n.em,{children:"Fixture.belongsTo"}),") is useful when we want to edit the name of the relationships"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["All relationships are ",(0,i.jsx)(n.strong,{children:"bi-directional"}),", which means that you just have to specify them ",(0,i.jsx)(n.strong,{children:"in one side only"})," to work with them in both directions."]}),(0,i.jsxs)(n.p,{children:["When you define a ",(0,i.jsx)(n.strong,{children:"belongsTo"})," relationship, it implicitly set the opposite ",(0,i.jsx)(n.em,{children:"hasMany"})," relationship and allow ",(0,i.jsx)(n.a,{href:"/docs/crud#work-with-relations",children:"querying relations"})," in both directions."]})]}),"\n",(0,i.jsx)(n.h3,{id:"relation-params",children:"Relation params"}),"\n",(0,i.jsx)(n.p,{children:"You can pass arguments using the long syntax:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"name"})}),(0,i.jsx)(n.td,{children:"Entity name"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The name of the relation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"entity"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsx)(n.td,{children:"The class name of the entity that the relationship is with"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"eager"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"boolean"}),(0,i.jsx)(n.td,{children:"Whether the relationship should be eager loaded. Otherwise, you need to explicitly request the relation in the client SDK or API"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},9329:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var s=t(4164);const i={tabItem:"tabItem_Ymn6"};var r=t(4848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,l),hidden:t,children:n})}},5537:(e,n,t)=>{t.d(n,{A:()=>w});var s=t(6540),i=t(4164),r=t(5627),l=t(6347),a=t(372),d=t(604),c=t(1861),o=t(8749);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function x(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:i}}=e;return{value:n,label:t,attributes:s,default:i}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function u(e){let{queryString:n=!1,groupId:t}=e;const i=(0,l.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,d.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(i.location.search);n.set(r,e),i.replace({...i.location,search:n.toString()})}),[r,i])]}function j(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,r=x(e),[l,d]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:r}))),[c,h]=u({queryString:t,groupId:i}),[j,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,r]=(0,o.Dv)(t);return[i,(0,s.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:i}),g=(()=>{const e=c??j;return p({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{g&&d(g)}),[g]);return{selectedValue:l,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);d(e),h(e),m(e)}),[h,m,r]),tabValues:r}}var m=t(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=t(4848);function f(e){let{className:n,block:t,selectedValue:s,selectValue:l,tabValues:a}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),o=e=>{const n=e.currentTarget,t=d.indexOf(n),i=a[t].value;i!==s&&(c(n),l(i))},h=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{d.push(e)},onKeyDown:h,onClick:o,...r,className:(0,i.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function b(e){let{lazy:n,children:t,selectedValue:r}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function v(e){const n=j(e);return(0,y.jsxs)("div",{className:(0,i.A)("tabs-container",g.tabList),children:[(0,y.jsx)(f,{...n,...e}),(0,y.jsx)(b,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,y.jsx)(v,{...e,children:h(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);